<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æµ·å»¢å­¸ - éŠæˆ²</title>
<link rel="stylesheet" href="style.css">
<style>
  /* é¡å¤–éŠæˆ²æ¨£å¼ */
  main { padding: 20px; }
  .question-container { display: none; }
  .active { display: block; }
  img.qimg { max-width: 120px; margin: 6px; border-radius:8px; border:2px solid #ddd; }
  button.option { margin:8px; padding:10px 16px; border-radius:8px; border:none; cursor:pointer; background:#2a7b6f; color:#fff; }
  button.option:disabled { opacity:0.6; cursor:default; }
  .result { font-weight:bold; margin-top:12px; font-size:18px; }
  .nav-visible { display:block !important; } /* ç”¨æ–¼é¡¯ç¤º nav */
  #finish { margin-top:24px; }
  .small { font-size:14px; color:#666; }
</style>
</head>
<body>
<header>
  <h2>æµ·å»¢å­¸_ç´™é¡å›æ”¶</h2>
  <button class="menu-button" onclick="toggleMenu()">â˜°</button>
  <nav id="menu">
    <a href="index.html"> é¦–é </a>
    <a href="game.html"> å°éŠæˆ²</a>
    <a href="about.html"> é—œæ–¼</a>
    <a href="learn.html"> çŸ¥è­˜</a>
  </nav>
</header>

<main>
  <!-- ç¬¬ä¸€é¡Œ -->
  <div class="question-container active" id="q1">
    <h3>ç¬¬ä¸€é¡Œï¼ˆåˆ†è¾¨ç´™èˆ‡ç´™å®¹å™¨ï¼‰ï¼šä¸‹åˆ—å“ªå¹¾å€‹æ˜¯ç´™å®¹å™¨ï¼Ÿ</h3>
    <div>
      <img class="qimg" src="åœ–ç‰‡åº«/1.png" alt="1">
      <img class="qimg" src="åœ–ç‰‡åº«/2.png" alt="2">
      <img class="qimg" src="åœ–ç‰‡åº«/3.png" alt="3">
      <img class="qimg" src="åœ–ç‰‡åº«/4.png" alt="4">
      <img class="qimg" src="åœ–ç‰‡åº«/5.png" alt="5">
    </div>
    <div style="margin-top:12px;">
      <button class="option" onclick="selectOption(1, '1')">é¸é …ä¸€ï¼š123</button>
      <button class="option" onclick="selectOption(1, '2')">é¸é …äºŒï¼š13</button>
      <button class="option" onclick="selectOption(1, '3')">é¸é …ä¸‰ï¼š245</button>
    </div>
    <div id="result1" class="result"></div>
    <button id="next1" class="option" style="display:none; background:#4caf50;" onclick="goToQuestion(2)">ä¸‹ä¸€é¡Œ âœ</button>
  </div>

  <!-- ç¬¬äºŒé¡Œ -->
  <div class="question-container" id="q2">
    <h3>ç¬¬äºŒé¡Œï¼ˆæ¸…åˆ†ç–Šï¼‰ï¼šè«‹é¸æ“‡å“ªå€‹æ’åˆ—é †åºæ˜¯å°çš„ï¼Ÿ</h3>
    <div>
      <button class="option" onclick="selectOption(2,'1')">é¸é …ä¸€ï¼šç–Š>åˆ†>æ¸…</button>
      <button class="option" onclick="selectOption(2,'2')">é¸é …äºŒï¼šæ¸…>ç–Š>åˆ†</button>
      <button class="option" onclick="selectOption(2,'3')">é¸é …ä¸‰ï¼šæ¸…>åˆ†>ç–Š</button>
    </div>
    <div id="result2" class="result"></div>
    <!-- ç¬¬äºŒé¡Œåœ–ç‰‡åœ¨ä½¿ç”¨è€…æŒ‰ä¸‹é¸é …å¾Œå‡ºç¾ï¼ˆä¸è«–å°éŒ¯ï¼‰ -->
    <div id="q2image" style="margin-top:12px;"></div>
    <button id="next2" class="option" style="display:none; background:#4caf50;" onclick="goToQuestion(3)">ä¸‹ä¸€é¡Œ âœ</button>
  </div>

  <!-- ç¬¬ä¸‰é¡Œ -->
  <div class="question-container" id="q3">
    <h3>ç¬¬ä¸‰é¡Œï¼ˆåˆ†è§£é‡è£½ï¼‰ï¼šä¸‹åˆ—é‚£ä¸€å€‹é¸é …æ˜¯å¿…é ˆèˆ‡ç´™å®¹å™¨åˆ†é–‹å¾Œæ‰èƒ½é€²è¡Œå›æ”¶ï¼Ÿ</h3>
    <div>
      <button class="option" onclick="selectOption(3,'1')">é¸é …ä¸€ï¼šæ·‹è†œ</button>
      <button class="option" onclick="selectOption(3,'2')">é¸é …äºŒï¼šé‡‘å±¬</button>
      <button class="option" onclick="selectOption(3,'3')">é¸é …ä¸‰ï¼šä¿éº—é¾</button>
    </div>
    <div id="result3" class="result"></div>
    <button id="next3" class="option" style="display:none; background:#4caf50;" onclick="finishQuiz()">å®Œæˆä¸¦è§€çœ‹è§£èªª âœ</button>
  </div>

  <!-- å®Œæˆ / é‡æ–°æŒ‘æˆ° -->
  <div id="finish" style="display:none;">
    <h3> æ­å–œå®Œæˆæ‰€æœ‰é¡Œç›®ï¼</h3>
    <p class="small">ä½ å¯ä»¥æŒ‰ä¸‹ã€Œé‡æ–°æŒ‘æˆ°ã€å†ä¾†ä¸€æ¬¡ï¼Œæˆ–æŒ‰ã€Œè§€çœ‹è§£èªªã€äº†è§£æ›´å¤šã€‚</p>
    <button class="option" onclick="restartQuiz()">ğŸ” é‡æ–°æŒ‘æˆ°</button>
    <button class="option" onclick="playExplanation()">â–¶ è§€çœ‹è§£èªª</button>
  </div>

  <!-- å½±ç‰‡å®¹å™¨ -->
  <div id="videoWrap" style="display:none; margin-top:18px;">
    <video id="explainVideo" width="560" controls>
      <source src="å½±ç‰‡/animation.mp4" type="video/mp4">
      æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´å½±ç‰‡æ’­æ”¾ã€‚
    </video>
  </div>
</main>

<script>
/* å°è¦½é¸å–®åˆ‡æ› */
function toggleMenu() {
  const menu = document.getElementById('menu');
  // è‹¥åŸæœ¬ style.display è¢« style.css æ§åˆ¶ï¼Œå¯ç”¨ class åˆ‡æ›
  if (!menu.style.display || menu.style.display === 'none') {
    menu.style.display = 'block';
  } else {
    menu.style.display = 'none';
  }
}

/* é¡Œç›®æ­£ç¢ºç­”æ¡ˆè¨­å®š */
const correct = {
  1: '3', // é¸é …ä¸‰ï¼ˆ245ï¼‰
  2: '3', // é¸é …ä¸‰ï¼ˆæ¸…åˆ†ç–Šï¼‰
  3: '1'  // é¸é …ä¸€ï¼ˆæ·‹è†œï¼‰
};

/* ç´€éŒ„æ˜¯å¦å·²ç­”é¡Œ */
const answered = {1:false,2:false,3:false};

function selectOption(q, optKey) {
  if (answered[q]) return; // å¦‚æœå·²ç­”éè©²é¡Œå°±ä¸å†è™•ç†
  answered[q] = true;

  // é¡¯ç¤ºçµæœæ–‡å­—
  const resEl = document.getElementById('result' + q);
  if (optKey === correct[q]) {
    resEl.textContent = 'âœ… ç­”å°äº†ï¼';
    resEl.style.color = 'green';
  } else {
    resEl.textContent = 'âŒ ç­”éŒ¯äº†ï¼';
    resEl.style.color = 'red';
  }

  // æ¯é¡Œç­”å®Œå¾Œåœç”¨è©²é¡Œå…¶ä»–æŒ‰éˆ•ï¼ˆæé«˜ UXï¼‰
  const qDiv = document.getElementById('q' + q);
  const buttons = qDiv.querySelectorAll('button.option');
  buttons.forEach(b => b.disabled = true);

  // é¡¯ç¤ºä¸‹ä¸€é¡ŒæŒ‰éˆ•æˆ–å®ŒæˆæŒ‰éˆ•
  const nextBtn = document.getElementById('next' + q);
  if (nextBtn) nextBtn.style.display = 'inline-block';

  // é¡å¤–è¡Œç‚ºï¼šç¬¬äºŒé¡ŒæŒ‰ä¸‹é¸é …å¾Œé¡¯ç¤ºæ¸…åˆ†ç–Šåœ–ç‰‡ï¼ˆä¸è«–å°éŒ¯ï¼‰
  if (q === 2) {
    const imgWrap = document.getElementById('q2image');
    imgWrap.innerHTML = '<img class="qimg" src="åœ–ç‰‡åº«/q2.png" alt="æ¸…åˆ†ç–Šç¤ºæ„">';
  }
}

/* è·³åˆ°æŒ‡å®šé¡Œç›®ï¼ˆ1-basedï¼‰ */
function goToQuestion(n) {
  // éš±è—ç›®å‰ active
  const active = document.querySelector('.question-container.active');
  if (active) active.classList.remove('active');
  // é¡¯ç¤ºæŒ‡å®šé¡Œ
  const next = document.getElementById('q' + n);
  if (next) next.classList.add('active');
}

/* å®Œæˆæµç¨‹ï¼šé¡¯ç¤º finish å€å¡Š */
function finishQuiz() {
  const active = document.querySelector('.question-container.active');
  if (active) active.classList.remove('active');
  document.getElementById('finish').style.display = 'block';
}

/* é‡æ–°é–‹å§‹ï¼ˆé‡ç½®ç‹€æ…‹ï¼‰ */
function restartQuiz() {
  // é‡ç½® answered
  answered[1] = answered[2] = answered[3] = false;
  // æ¸…é™¤çµæœæ–‡å­—èˆ‡åœ–ç‰‡
  document.getElementById('result1').textContent = '';
  document.getElementById('result2').textContent = '';
  document.getElementById('result3').textContent = '';
  document.getElementById('q2image').innerHTML = '';
  // å•Ÿç”¨æŒ‰éˆ•
  document.querySelectorAll('#q1 button.option, #q2 button.option, #q3 button.option').forEach(b => {
    b.disabled = false;
  });
  // éš±è— next æŒ‰éˆ•
  document.getElementById('next1').style.display = 'none';
  document.getElementById('next2').style.display = 'none';
  document.getElementById('next3').style.display = 'none';
  // éš±è— finish å€å¡Šèˆ‡å½±ç‰‡
  document.getElementById('finish').style.display = 'none';
  document.getElementById('videoWrap').style.display = 'none';
  const vid = document.getElementById('explainVideo');
  if (vid) { vid.pause(); vid.currentTime = 0; }
  // å›åˆ°ç¬¬ä¸€é¡Œ
  document.getElementById('q1').classList.add('active');
}

/* æ’­æ”¾è§£èªªå‹•ç•« */
function playExplanation() {
  // é¡¯ç¤ºå½±ç‰‡å®¹å™¨
  document.getElementById('videoWrap').style.display = 'block';
  const vid = document.getElementById('explainVideo');
  if (vid) vid.play();
}
</script>
</body>
</html>
