<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>海廢學 </title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h2> 海廢學</h2>
    <button class="menu-button" onclick="toggleMenu()">☰</button>
    <nav id="menu">
      <a href="index.html"> 首頁</a>
      <a href="game.html"> 小遊戲</a>
      <a href="about.html"> 關於</a>
      <a href="learn.html"> 知識</a>
    </nav>
  </header>

  <main>
    <h1>歡迎來到海廢學</h1>
    <p>透過遊戲學習關於海洋廢棄物的知識</p>
    <button onclick="window.location.href='game.html'">開始</button>
  </main>

  <script>
    function toggleMenu() {
      const menu = document.getElementById('menu');
      menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
    }
  </script>
</body>
  <!-- 右下浮動瀏覽人次（可點擊展開） -->
<div id="visitorCount" style="
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: rgba(42,123,111,0.9);
  color: white;
  padding: 10px 16px;
  border-radius: 12px;
  font-size: 14px;
  font-weight: 500;
  box-shadow: 0 2px 8px rgba(0,0,0,0.25);
  z-index: 1000;
  cursor: pointer;
  transition: all 0.3s ease;
">
  瀏覽人次：<span id="countNum">0</span>
  <div id="visitorDetail" style="
    display:none;
    margin-top:8px;
    font-size:12px;
    color:#fff;
    background: rgba(0,0,0,0.2);
    padding:6px 10px;
    border-radius:8px;
  ">
    2025/10/28~
  </div>
</div>

<script>
const vc = document.getElementById('visitorCount');
const detail = document.getElementById('visitorDetail');

// 點擊切換展開/收起
vc.addEventListener('click', ()=> {
  if(detail.style.display==='none'){
    detail.style.display='block';
    vc.style.transform='translateY(-10px)';
  } else {
    detail.style.display='none';
    vc.style.transform='translateY(0)';
  }
});

// 讀取 CountAPI 訪客數
fetch('https://api.countapi.xyz/hit/fanrudd.github.io/mds-home') 
  .then(res=>res.json())
  .then(data=>{
    document.getElementById('countNum').textContent = data.value;
    detail.textContent = `已累積訪問 ${data.value} 次`;
  })
  .catch(err=>{
    console.error('CountAPI讀取失敗', err);
    document.getElementById('countNum').textContent='—';
    detail.textContent='統計資料暫時不可用';
  });
</script>

</html>
